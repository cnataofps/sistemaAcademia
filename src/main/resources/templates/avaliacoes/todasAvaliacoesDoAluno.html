<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{painel :: header}">
	<meta charset="UTF-8">
	<title>Avalia√ß√µes F√≠sicas do Aluno</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
	<style>
		body {
			background-color: #f8f9fa;
		}

		.card-header {
			background-color: #0d6efd;
			color: white;
		}

		.section-title {
			font-size: 1.4rem;
			font-weight: 600;
			color: #0d6efd;
		}

		.table th {
			background-color: #f1f1f1;
		}

		body.dark-mode {
			background-color: #121212;
			color: #e0e0e0;
		}

		body.dark-mode .card {
			background-color: #2a2a2a;
			color: #e0e0e0;
		}

		body.dark-mode .card-header {
			background-color: #0d6efd;
			color: white;
		}

		body.dark-mode .table {
			color: #e0e0e0;
		}

		body.dark-mode .table th {
			background-color: #333;
			color: #ccc;
		}

		body.dark-mode .section-title {
			color: #66b2ff;
		}
	</style>
</head>

<body>
	<div th:replace="~{painel :: navbar}"></div>
	<div class="main-layout">
		<div th:replace="~{painel :: sidebar}"></div>
		<div class="content-area container py-5">
			<h2 class="mb-4 text-center"><i class="bi bi-clipboard-pulse"></i> Avalia√ß√µes F√≠sicas Recebidas</h2>

			<div th:if="${#lists.isEmpty(avaliacoes) == false}">
				<div th:each="avaliacao : ${avaliacoes}" class="card shadow-sm mb-5">
					<!-- Cabe√ßalho informativo -->
					<div class="card-body bg-light rounded shadow-sm mb-4">
						<div class="row">
							<div class="col-md-4 mb-2">
								<strong>Nome:</strong> <span th:text="${avaliacao.aluno.nome}"></span>
							</div>
							<div class="col-md-4 mb-2">
								<strong>Matr√≠cula:</strong> <span th:text="${avaliacao.aluno.id}"></span>
							</div>
							<div class="col-md-4 mb-2">
								<strong>Professor:</strong>
								<span
									th:text="${avaliacao.professor != null ? avaliacao.professor.nome : 'N√£o definido'}"></span>
							</div>
						</div>
						<div class="row">
							<div class="col-md-4 mb-2">
								<strong>Objetivo:</strong> <span th:text="${avaliacao.objetivo}"></span>
							</div>
							<div class="col-md-4 mb-2">
								<strong>Data de Cria√ß√£o:</strong>
								<span th:text="${#temporals.format(avaliacao.data, 'dd/MM/yyyy')}"></span>
							</div>
							<div class="col-md-4 mb-2">
								<strong>Troca Prevista:</strong>
								<span th:text="${#temporals.format(avaliacao.dataTroca, 'dd/MM/yyyy')}"></span>
							</div>
						</div>
					</div>

					<!-- Perimetria -->
					<h6 class="section-title mt-4">üìè Perimetria</h6>
					<table class="table table-bordered table-sm">
						<tr>
							<td>T√≥rax</td>
							<td th:text="${avaliacao.torax}"></td>
						</tr>
						<tr>
							<td>Abdominal</td>
							<td th:text="${avaliacao.abdominal}"></td>
						</tr>
						<tr>
							<td>Quadril</td>
							<td th:text="${avaliacao.quadril}"></td>
						</tr>
						<tr>
							<td>Antebra√ßo</td>
							<td th:text="${avaliacao.antebraco}"></td>
						</tr>
						<tr>
							<td>Bra√ßo Relaxado</td>
							<td th:text="${avaliacao.bracorelaxado}"></td>
						</tr>
						<tr>
							<td>Bra√ßo Contra√≠do</td>
							<td th:text="${avaliacao.bracocontraido}"></td>
						</tr>
						<tr>
							<td>Coxa Superior</td>
							<td th:text="${avaliacao.coxasuperior}"></td>
						</tr>
						<tr>
							<td>Panturrilha</td>
							<td th:text="${avaliacao.panturilha}"></td>
						</tr>
					</table>

					<!-- Antropometria -->
					<h6 class="section-title mt-4">üìê Antropometria</h6>
					<table class="table table-bordered table-sm">
						<tr>
							<td>Tricipal</td>
							<td th:text="${avaliacao.tricipal}"></td>
						</tr>
						<tr>
							<td>Subescapular</td>
							<td th:text="${avaliacao.subescapular}"></td>
						</tr>
						<tr>
							<td>Peitoral</td>
							<td th:text="${avaliacao.peitoral}"></td>
						</tr>
						<tr>
							<td>Abd√¥men</td>
							<td th:text="${avaliacao.abdomen}"></td>
						</tr>
						<tr>
							<td>Supra-il√≠aca</td>
							<td th:text="${avaliacao.suprailiaca}"></td>
						</tr>
						<tr>
							<td>Coxa</td>
							<td th:text="${avaliacao.coxa}"></td>
						</tr>
						<tr>
							<td>Axial M√©dia</td>
							<td th:text="${avaliacao.axialmedia}"></td>
						</tr>
					</table>

					<!-- Dados F√≠sicos -->
					<h6 class="section-title mt-4">‚öñÔ∏è Dados F√≠sicos</h6>
					<table class="table table-bordered table-sm">
						<tr>
							<td>Peso</td>
							<td th:text="${avaliacao.peso} + ' kg'"></td>
						</tr>
						<tr>
							<td>Altura</td>
							<td th:text="${avaliacao.altura} + ' m'"></td>
						</tr>
						<tr>
							<td>IMC</td>
							<td th:text="${avaliacao.imc}"></td>
						</tr>
						<tr>
							<td>% Gordura</td>
							<td th:text="${avaliacao.percentualgordura}"></td>
						</tr>
						<tr>
							<td>Massa Magra</td>
							<td th:text="${avaliacao.massamagra}"></td>
						</tr>
						<tr>
							<td>Massa Gorda</td>
							<td th:text="${avaliacao.massagorda}"></td>
						</tr>
					</table>

					<!-- Hist√≥rico Pessoal -->
					<h6 class="section-title mt-4">ü©∫ Hist√≥rico Pessoal</h6>
					<table class="table table-bordered table-sm">
						<tr>
							<td>Problema Articular</td>
							<td th:text="${avaliacao.problemaArticular}"></td>
						</tr>
						<tr>
							<td>Cirurgia</td>
							<td th:text="${avaliacao.cirurgia}"></td>
						</tr>
						<tr>
							<td>Coluna</td>
							<td th:text="${avaliacao.coluna}"></td>
						</tr>
					</table>

					<!-- Hist√≥rico Familiar -->
					<h6 class="section-title mt-4">üë®‚Äçüë©‚Äçüëß Hist√≥rico Familiar</h6>
					<table class="table table-bordered table-sm">
						<tr>
							<td>Cardiopata</td>
							<td th:text="${avaliacao.cardiopata}"></td>
						</tr>
						<tr>
							<td>Hipertenso</td>
							<td th:text="${avaliacao.hipertenso}"></td>
						</tr>
						<tr>
							<td>Diab√©tico</td>
							<td th:text="${avaliacao.diabetico}"></td>
						</tr>
					</table>

					<!-- H√°bitos Pessoais -->
					<h6 class="section-title mt-4">üß† H√°bitos Pessoais</h6>
					<table class="table table-bordered table-sm">
						<tr>
							<td>Fuma</td>
							<td th:text="${avaliacao.fuma}"></td>
						</tr>
						<tr>
							<td>Bebe</td>
							<td th:text="${avaliacao.bebe}"></td>
						</tr>
						<tr>
							<td>Uso de Subst√¢ncias</td>
							<td th:text="${avaliacao.toxico}"></td>
						</tr>
					</table>

					<!-- Atividade F√≠sica -->
					<h6 class="section-title mt-4">üèãÔ∏è Atividade F√≠sica</h6>
					<table class="table table-bordered table-sm">
						<tr>
							<td>J√° fez muscula√ß√£o?</td>
							<td th:text="${avaliacao.jaFezMusculacao}"></td>
						</tr>
						<tr>
							<td>Tempo de muscula√ß√£o</td>
							<td th:text="${avaliacao.tempoMusculacao}"></td>
						</tr>
						<tr>
							<td>Inativo h√°</td>
							<td th:text="${avaliacao.inativoHa}"></td>
						</tr>
						<tr>
							<td>Frequ√™ncia semanal</td>
							<td th:text="${avaliacao.frequenciaSemanal}"></td>
						</tr>
						<tr>
							<td>Tempo dispon√≠vel</td>
							<td th:text="${avaliacao.tempoDisponivel}"></td>
						</tr>
					</table>

					<!-- Observa√ß√µes -->
					<h6 class="section-title mt-4">üìù Observa√ß√µes do Avaliador</h6>
					<p th:text="${avaliacao.observacao}" class="text-muted"></p>
				</div>
			</div>
		</div>

		<!-- Mensagem alternativa -->
		<div th:if="${#lists.isEmpty(avaliacoes)}" class="alert alert-warning text-center mt-4">
			<i class="bi bi-info-circle-fill me-1"></i>
			Nenhuma avalia√ß√£o f√≠sica registrada para este aluno.
		</div>


	</div>
	</div>
	<!-- Bot√£o de voltar ao final do formul√°rio -->
	<div class="text-center mt-5">
		<a href="/" class="btn btn-outline-secondary btn-lg">
			<i class="bi bi-arrow-left-circle"></i> Voltar ao Painel
		</a>
	</div>
	<!-- Scripts -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		document.addEventListener('DOMContentLoaded', function () {
			const body = document.body;
			const toggle = document.getElementById('toggleDarkMode');

			if (localStorage.getItem('modoNoturno') === 'true') {
				body.classList.add('dark-mode');
			}

			if (toggle) {
				toggle.addEventListener('click', function () {
					body.classList.toggle('dark-mode');
					localStorage.setItem('modoNoturno', body.classList.contains('dark-mode'));
				});
			}
		});
	</script>
</body>

</html>